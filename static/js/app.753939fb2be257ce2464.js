webpackJsonp([1],{NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n=i("Zrlr"),a=i.n(n),c=i("wxAW"),r=i.n(c),o=new(function(){function t(){a()(this,t),this.RAM=new Uint8Array(4096)}return r()(t,[{key:"setMemorySize",value:function(t){this.RAM=new Uint8Array(t),this.clearMemory()}},{key:"clearMemory",value:function(){for(var t=0;t<this.RAM.length;t++)this.RAM[t]=0}},{key:"getMemoryChunk",value:function(t,e){return this.RAM.subarray(t,t+e)}},{key:"loadFromMem",value:function(t){return this.RAM[t]}},{key:"storeToMem",value:function(t,e){this.RAM[t]=e}},{key:"DMA",value:function(t,e){this.RAM.set(t,e)}}]),t}()),u=(i("an1D"),new(function(){function t(){a()(this,t),this.RAM=o,this.reset()}return r()(t,[{key:"reset",value:function(){this.V=new Uint8Array(16),this.I=new Uint16Array(1),this.PC=new Uint16Array(1),this.SP=new Uint8Array(1),this.stack=new Uint16Array(16)}},{key:"popStack",value:function(){return this.SP[0]<=0?Error("cannot pop stack with no elements"):(this.SP[0]--,this.stack[this.SP[0]])}},{key:"pushStack",value:function(t){if(this.SP[0]>=this.stack.length-1)return Error("cannot push stack with full stack");this.stack[this.SP[0]]=65535&t,this.SP[0]++}},{key:"startCPUProgramOn",value:function(t){this.PC[0]=t,this.SP[0]=0}},{key:"configure",value:function(t){this.RAM.setMemorySize(t.ramSize)}},{key:"flushRegisters",value:function(){for(var t=0;t<this.V.length;t++)this.V[t]=0;this.I=0,this.PC=0,this.SP=0}},{key:"loadFromMem",value:function(t){return this.RAM.loadFromMem(t)}},{key:"storeToMem",value:function(t,e){this.RAM.storeToMem(t,e)}},{key:"DMA",value:function(t,e){this.RAM.DMA(t,e)}}]),t}())),h=i("//Fk"),l=i.n(h),p=new(function(){function t(){a()(this,t),this.blankColor=[0,0,0,255],this.fillColor=[0,255,0,255]}return r()(t,[{key:"adjustWindowSize",value:function(t,e){this.canvas.width=Math.ceil(t),this.canvas.height=Math.ceil(e)}}]),r()(t,[{key:"setCanvas",value:function(t){this.canvas=t}},{key:"configure",value:function(t){this.oldTime=0,this.xsize=t.xsize,this.ysize=t.ysize,this.vram=new Uint8ClampedArray(this.xsize*this.ysize),this.clearRam=new Uint8ClampedArray(this.xsize*this.ysize),this.ctx=this.canvas.getContext("2d"),this._layerOne=this.ctx.createImageData(this.xsize,this.ysize),this.clearScreen()}},{key:"drawSprite",value:function(t,e,i){for(var s=0,n=this.xsize*e,a=0;a<i.length;a++){for(var c=i[a],r=0;r<8;r++){var o=c>>7-r&1,u=n+(t+r)%this.xsize;0===s&&this.vram[u]&o&&(s=1),this.vram[u]^=o}n+=this.xsize}return s}},{key:"copyVramToImage",value:function(){for(var t=0;t<this.vram.length;t++)0===this.vram[t]?this._layerOne.data.set(this.blankColor,t<<2):this._layerOne.data.set(this.fillColor,t<<2)}},{key:"clearScreen",value:function(){this.vram.set(this.clearRam)}},{key:"render",value:function(t){this.fps=1e3/(t-this.oldTime),this.oldTime=t,this.copyVramToImage(),l.a.all([createImageBitmap(this._layerOne,{resizeQuality:"pixelated",colorSpaceConversion:"none",premultiplyAlpha:"premultiply",resizeWidth:this.canvas.width,resizeHeight:this.canvas.height})]).then(function(t){this.ctx.drawImage(t[0],0,0),requestAnimationFrame(this.render.bind(this))}.bind(this))}},{key:"startGPU",value:function(){requestAnimationFrame(this.render.bind(this))}},{key:"setPixel",value:function(t,e,i,s,n){var a=void 0;0===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)&&(a=this._layerOne.data);var c=4*(t+e*this.xsize);a[c+0]=i,a[c+1]=s,a[c+2]=n,a[c+3]=255}}]),t}()),v=new(function(){function t(){a()(this,t),this.DELAY=new Uint8ClampedArray(1),this.SOUND=new Uint8ClampedArray(1),this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.vol=0,this.frequency=520}return r()(t,[{key:"startAudio",value:function(){this.oscillator=this.audioCtx.createOscillator(),this.gainNode=this.audioCtx.createGain(),this.oscillator.type="sine",this.oscillator.frequency.value=this.frequency,this.oscillator.start(),this.gainNode.gain.value=this.vol,this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination)}},{key:"updateAudio",value:function(){this.oscillator.frequency.value=this.frequency,this.gainNode.gain.value=this.vol}},{key:"flushRegisters",value:function(){this.DELAY[0]=0,this.SOUND[0]=0}},{key:"configure",value:function(t){this.frequency=t.frequency,this.clockingInterval=t.clockingInterval}},{key:"startAudioLoop",value:function(){this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){this.SOUND[0]--,this.DELAY[0]--,this.updateAudio(),0===this.SOUND[0]?this.vol=0:this.vol=.5}.bind(this),this.clockingInterval)}}]),t}()),d=i("RKMo"),g=i.n(d),k=new(function(){function t(){a()(this,t),this.cpu=u,this.gpu=p,this.audio=v,this.IO={0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,A:!1,B:!1,C:!1,D:!1,E:!1,F:!1},this.map=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"]}return r()(t,[{key:"configureGPU",value:function(t,e){this.gpu.setCanvas(t),this.gpu.configure(e)}},{key:"configureCPU",value:function(t){this.cpu.configure(t)}},{key:"configureAudio",value:function(t){this.audio.configure(t)}},{key:"initSystem",value:function(){this.initCPU(),this.initGPU(),this.initAudio(),this.initRAM()}},{key:"initCPU",value:function(){this.cpu.flushRegisters()}},{key:"initGPU",value:function(){this.gpu.startGPU()}},{key:"initAudio",value:function(){this.audio.startAudio()}},{key:"initRAM",value:function(){this.cpu.RAM.clearMemory()}},{key:"restartSystem",value:function(){this.restartFlag=!0,this.restartCPU(),this.restartGPU(),this.restartAudio()}},{key:"restartCPU",value:function(){this.cpu.reset(),this.cpu.RAM.clearMemory();for(var t=0;t<16;t++)this.cpu.RAM.DMA(g.a[t],5*t)}},{key:"restartGPU",value:function(){this.gpu.clearScreen()}},{key:"restartAudio",value:function(){this.audio.flushRegisters(),this.audio.startAudioLoop()}},{key:"onWindowResize",value:function(t,e){this.gpu.adjustWindowSize(t,e)}},{key:"loadProgramIntoRam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;this.cpu.RAM.DMA(t,e)}},{key:"startCPUProgramOn",value:function(t){this.cpu.startCPUProgramOn(t)}},{key:"stopClock",value:function(){this.clock&&clearInterval(this.clock)}},{key:"configClock",value:function(t){this.debug=t.debug,this.clockingInterval=t.clockingInterval,this.updateDebuggerOneTick=t.updateDebuggerOneTick}},{key:"resumeClock",value:function(){this.stopClock(),this.clock=setInterval(function(){for(var t=0;t<19;t++)if(this.processOneCycle(),this.stopSignal){this.stopSignal=!1;break}}.bind(this),this.clockingInterval)}},{key:"startClock",value:function(t){this.configClock(t),this.resumeClock()}},{key:"processOneCycle",value:function(){this.tickOneClockCycle(),this.debug&&this.updateDebuggerOneTick()}},{key:"tickOneClockCycle",value:function(){if(this.cpu.PC[0]){var t=this.cpu.loadFromMem(this.cpu.PC[0]),e=this.cpu.loadFromMem(this.cpu.PC[0]+1),i=(t<<8)+e,s=Number(t).toString(16).padStart(2,"0")+Number(e).toString(16).padStart(2,"0");this.currentOpcode="0x"+s+" "+this.processOpcode(i)+"  ，  PC： "+this.cpu.PC,this.cpu.PC[0]+=2}}},{key:"processOpcode",value:function(t){if(255===t)return this.gpu.configure({xsize:128,ysize:64}),"HIGH";if(254===t)return this.gpu.configure({xsize:64,ysize:32}),"LOW";var e=void 0;switch(61440&t){case 0:if(224===t)e="CLS",this.gpu.clearScreen();else if(238===t)e="RET",this.cpu.PC[0]=this.cpu.popStack();else{e="SYS";var i=this.nnn(t),s=i.nnn;e+=g=i.desc}break;case 4096:e="JP";var n=this.nnn(t);s=n.nnn;e+=g=n.desc,this.cpu.PC[0]=s-2;break;case 8192:e="CALL";var a=this.nnn(t);s=a.nnn;e+=g=a.desc,this.cpu.pushStack(this.cpu.PC[0]),this.cpu.PC[0]=s-2;break;case 12288:e="SE";var c=this.xkk(t),r=c.x,o=c.kk;e+=g=c.desc,this.cpu.V[r]===o&&(this.cpu.PC[0]+=2);break;case 16384:e="SNE";var u=this.xkk(t);r=u.x,o=u.kk;e+=g=u.desc,this.cpu.V[r]!==o&&(this.cpu.PC[0]+=2);break;case 20480:e="SE";var h=this.xy(t),l=(r=h.x,h.y);e+=g=h.desc,this.cpu.V[r]===this.cpu.V[l]&&(this.cpu.PC[0]+=2);break;case 24576:e="LD";var p=this.xkk(t);r=p.x,o=p.kk;e+=g=p.desc,this.cpu.V[r]=o;break;case 28672:e="ADD";var v=this.xkk(t);r=v.x,o=v.kk;e+=g=v.desc,this.cpu.V[r]+=o;break;case 32768:var d=this.xy(t),g=(r=d.x,l=d.y,d.desc);0===(M=15&t)?(e="LD",this.cpu.V[r]=this.cpu.V[l]):1===M?(e="OR",this.cpu.V[r]|=this.cpu.V[l]):2===M?(e="AND",this.cpu.V[r]&=this.cpu.V[l]):3===M?(e="XOR",this.cpu.V[r]^=this.cpu.V[l]):4===M?(e="ADD",this.cpu.V[r]+this.cpu.V[l]>255?this.cpu.V[15]=1:this.cpu.V[15]=0,this.cpu.V[r]+=this.cpu.V[l]):5===M?(e="SUB",this.cpu.V[r]-this.cpu.V[l]>0?this.cpu.V[15]=1:this.cpu.V[15]=0,this.cpu.V[r]-=this.cpu.V[l]):6===M?(e="SHR",!0&this.cpu.V[r]?this.cpu.V[15]=1:this.cpu.V[15]=0,this.cpu.V[r]>>>=1):7===M?(e="SUBN",this.cpu.V[l]-this.cpu.V[r]>0?this.cpu.V[15]=1:this.cpu.V[15]=0,this.cpu.V[r]=this.cpu.V[l]-this.cpu.V[r]):14===M&&(e="SHL",(this.cpu.V[r]>>7)%2==1?this.cpu.V[15]=1:this.cpu.V[15]=0,this.cpu.V[r]<<=1),e+=g;break;case 36864:e="SNE";var k=this.xy(t);r=k.x,l=k.y;e+=g=k.desc,this.cpu.V[r]!==this.cpu.V[l]&&(this.cpu.PC[0]+=2);break;case 40960:e="LD";var m=this.nnn(t);s=m.nnn;e+=g=m.desc,this.cpu.I[0]=s;break;case 45056:e="JP";var f=this.nnn(t);s=f.nnn;e+=g=f.desc,this.cpu.PC[0]=s+this.cpu.V[0]-2;break;case 49152:e="RND";var y=this.xkk(t);r=y.x,o=y.kk;e+=g=y.desc;var _=Math.floor(256*Math.random());this.cpu.V[r]=_&o;break;case 53248:e="DRW";var b=this.xyn(t),A=(r=b.x,l=b.y,b.n);e+=g=b.desc;var C=this.cpu.V[r],R=this.cpu.V[l],S=this.cpu.RAM.getMemoryChunk(this.cpu.I[0],A);this.cpu.V[15]=this.gpu.drawSprite(C,R,S);break;case 57344:var D=this.xkk(t);r=D.x,o=D.kk,g=D.desc;if(158===o){e="SKP",e+=g;var M=this.map[this.cpu.V[r]];this.IO[M]&&(this.cpu.PC[0]+=2)}else if(161===o){e="SKNP",e+=g;M=this.map[this.cpu.V[r]];this.IO[M]||(this.cpu.PC[0]+=2)}break;case 61440:var x=this.xkk(t);r=x.x,o=x.kk,g=x.desc;if(7===o)e="LD",e+=g,e+=" DT",this.cpu.V[r]=this.audio.DELAY[0];else if(10===o)e="LD",e+=g,e+=" K",console.log("here"),this.stopClock(),this.stopSignal=!0,this.waitForKeyFlag=!0,this.waitForKeyReg=r;else if(21===o)e="LD",e+=" DT",e+=g,this.audio.DELAY[0]=this.cpu.V[r];else if(24===o)e="LD",e+=" ST",e+=g,this.audio.SOUND[0]=this.cpu.V[r];else if(30===o)e="ADD",e+=" I",e+=g,this.cpu.I[0]+=this.cpu.V[r];else if(41===o)e="LD",e+=" F",e+=g,this.cpu.I[0]=5*this.cpu.V[r];else if(51===o)e="LD",e+=" BCD",e+=g,this.cpu.RAM.storeToMem(this.cpu.I[0],Math.floor(this.cpu.V[r]/100)%10),this.cpu.RAM.storeToMem(this.cpu.I[0]+1,Math.floor(this.cpu.V[r]/10)%10),this.cpu.RAM.storeToMem(this.cpu.I[0]+2,Math.floor(this.cpu.V[r]/1)%10);else if(85===o){e="LD",e+=" [I]",e+=g;for(var P=0;P<=r;P++)this.cpu.RAM.storeToMem(this.cpu.I[0]+P,this.cpu.V[P])}else if(101===o){e="LD",e+=g,e+=" [I]";for(var V=0;V<=r;V++)this.cpu.V[V]=this.cpu.RAM.loadFromMem(this.cpu.I[0]+V)}}return e}},{key:"waitForKeyCallback",value:function(t){this.resumeClock(),this.cpu.V[this.waitForKeyReg]=Number("0x"+t),this.stopSignal=!1,this.waitForKeyFlag=!1}},{key:"xkk",value:function(t){var e=(3840&t)>>8,i=255&t;return{x:e,kk:i,desc:" V"+e+" "+Number(i).toString(16)}}},{key:"xy",value:function(t){var e=(3840&t)>>8,i=(240&t)>>4;return{x:e,y:i,desc:" V"+e+" V"+i}}},{key:"nnn",value:function(t){var e=4095&t;return{nnn:e,desc:" $"+Number(e).toString(16)}}},{key:"xyn",value:function(t){var e=(3840&t)>>8,i=(240&t)>>4,s=15&t;return{x:e,y:i,n:s,desc:" V"+e+" V"+i+" nib: "+s}}},{key:"getCPUDebugParameters",value:function(){return{fps:Math.floor(this.gpu.fps),V:this.cpu.V,I:this.cpu.I,DELAY:this.audio.DELAY,SOUND:this.audio.SOUND,PC:this.cpu.PC,SP:this.cpu.SP,STACK:this.cpu.stack,IO:this.IO,RAM:{RAM:this.cpu.RAM.RAM}}}}]),t}()),m=i("am/W"),f=i.n(m),y={name:"Chip8Debugger",props:{debug:{type:Object,default:function(){return{V:new Uint8Array(16),I:new Uint16Array(1),DELAY:new Uint8Array(1),SOUND:new Uint8Array(1),PC:new Uint16Array(1),SP:new Uint8Array(1),STACK:Uint16Array(16),RAM:Uint8Array(32)}}},commandHistory:{type:Array,default:function(){return["asdf","b"]}}},data:function(){return{}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cli"}},[i("div",{attrs:{id:"history"}},t._l(t.commandHistory,function(e,s){return i("div",{key:s},[i("label",{staticClass:"commandTag",attrs:{for:""}},[t._v(t._s(s)+">> ")]),t._v(" "),i("span",{staticClass:"command"},[t._v(" "+t._s(e)+" ")])])}),0),t._v(" "),i("table",{attrs:{id:"internalRegs"}},[t._m(0),t._v(" "),t._l(t.debug,function(e,s){return i("tr",{key:s},[i("td",[t._v(t._s(s))]),t._v(" "),i("td",[t._v(t._s(e))])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("register")]),this._v(" "),e("td",[this._v("值")])])}]};var b={name:"CLI",components:{chip8Debugger:i("VU/8")(y,_,!1,function(t){i("cen0")},"data-v-f30bd0da",null).exports},data:function(){return{canvasScale:80,screenX:64,screenY:32,chip8:null,clock:null,gameSpeed:30,"地图":{1:"1",2:"2",3:"3",4:"C",q:"4",w:"5",e:"6",r:"D",a:"7",s:"8",d:"9",f:"E",z:"A",x:"0",c:"B",v:"F"},chip8OpcodeHistory:[],chip8InternalDebugData:{}}},mounted:function(){this.chip8=k,this.chip8InternalDebugData=this.chip8.getCPUDebugParameters();var t=document.getElementById("screen");this.chip8.configureGPU(t,{xsize:64,ysize:32}),this.chip8.configureCPU({clockSpeed:540,ramSize:4096}),this.chip8.configureAudio({frequency:540,clockingInterval:1e3/60}),this.chip8.initSystem(),this.chip8.configClock({debug:!0,clockingInterval:this.gameSpeed,updateDebuggerOneTick:this.updateDebuggerOneTick.bind(this)}),window.onkeydown=this.processInputFromKeyboardKeyDown,window.onkeyup=this.processInputFromKeyboardKeyUp,window.onresize=this.processWindowAdjust,this.processWindowAdjust(),this.loadROM("gameRoms/Pong.ch8")},methods:{loadROM:function(t){var e=this;this.currentROM=t,f.a.loadROM(t,function(t){var i=document.getElementById("screen");e.chip8.configureGPU(i,{xsize:64,ysize:32}),e.chip8.restartSystem(),e.chip8.loadProgramIntoRam(t,512),e.clearDebugInfo(),e.chip8.startCPUProgramOn(512),e.startEmulation()})},oneCycle:function(){this.chip8.processOneCycle()},restartEmulation:function(){this.currentROM?this.loadROM(this.currentROM):alert("先选个游戏硬盘")},stopEmulation:function(){this.chip8.stopClock()},startEmulation:function(){this.chip8.stopClock(),this.chip8.resumeClock()},clearDebugInfo:function(){this.chip8OpcodeHistory=[],this.chip8InternalDebugData={}},processInputFromKeyboardKeyDown:function(t){this.chip8.keyPressedFlag=!0;var e=t.key||t.target.value;if(this.地图[e]){var i=this.地图[e];this.chip8.keyPressed=i,this.processInput(i,!0,!1)}},processInputFromKeyboardKeyUp:function(t){this.chip8.keyPressedFlag=!1;var e=t.key||t.target.value;if(this.地图[e]){var i=this.地图[e];this.chip8.keyPressed=i,this.processInput(i,!1,!1)}},processInput:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?t.target.value:t;console.log(i),this.chip8.IO[i]=e,console.log(this.chip8.IO[i]),this.chip8.waitForKeyFlag&&(console.log("callback"),this.chip8.waitForKeyCallback(i))},updateDebuggerOneTick:function(t){this.chip8OpcodeHistory.length>100&&this.chip8OpcodeHistory.pop(),this.chip8OpcodeHistory.unshift(this.chip8.currentOpcode),this.chip8InternalDebugData=this.chip8.getCPUDebugParameters()},processGameSpeedAdjust:function(t){this.chip8.configClock({debug:!0,clockingInterval:this.gameSpeed,updateDebuggerOneTick:this.updateDebuggerOneTick.bind(this)}),this.startEmulation()},processWindowAdjust:function(t){this.screenX=this.chip8.gpu.xsize,this.screenY=this.chip8.gpu.ysize;var e=window.innerWidth,i=e*this.canvasScale/100,s=e*this.screenY/this.screenX*this.canvasScale/100;return this.chip8.onWindowResize(i,s),{canvasWidth:i,canvasHeight:s}}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"body"}},[t._m(0),t._v(" "),i("div",{attrs:{id:"ROMS"}},[i("label",{attrs:{for:""}},[t._v("test ROMS")]),t._v(" "),i("select",{on:{change:t.loadROM}},[i("option",{attrs:{value:"testRoms/BC_test.ch8"}},[t._v("bc test")]),t._v(" "),i("option",{attrs:{value:"testRoms/c8_test.ch8"}},[t._v("c8 test")]),t._v(" "),i("option",{attrs:{value:"testRoms/KeypadTest.ch8"}},[t._v("keypad test")]),t._v(" "),i("option",{attrs:{value:"testRoms/test_opcode.ch8"}},[t._v("opcode test")])]),t._v(" "),i("label",{attrs:{for:""}},[t._v("game ROMS")]),t._v(" "),i("select",{on:{change:t.loadROM}},[i("option",{attrs:{value:"gameRoms/Space Invaders.ch8"}},[t._v("Space Invaders")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Blitz.ch8"}},[t._v("Blitz")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Breakout.ch8"}},[t._v("Breakout")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Brix.ch8"}},[t._v("Brix")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Connect4.ch8"}},[t._v("Connect4")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Flightrunner.ch8"}},[t._v("Flightrunner")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Hidden.ch8"}},[t._v("Hidden")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Merlin.ch8"}},[t._v("Merlin")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Missile.ch8"}},[t._v("Missile")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Outlaw.ch8"}},[t._v("Outlaw")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Pong.ch8"}},[t._v("Pong")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Tank.ch8"}},[t._v("Tank")]),t._v(" "),i("option",{attrs:{value:"gameRoms/TicTac.ch8"}},[t._v("TicTac")]),t._v(" "),i("option",{attrs:{value:"gameRoms/UFO.ch8"}},[t._v("UFO")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Vers.ch8"}},[t._v("Vers")]),t._v(" "),i("option",{attrs:{value:"gameRoms/1dcell.ch8"}},[t._v("1dcell")]),t._v(" "),i("option",{attrs:{value:"gameRoms/8ceattourny_d1.ch8"}},[t._v("8ceattourny_d1")]),t._v(" "),i("option",{attrs:{value:"gameRoms/blackrainbow.ch8"}},[t._v("blackrainbow ")]),t._v(" "),i("option",{attrs:{value:"gameRoms/snake.ch8"}},[t._v("snake ")]),t._v(" "),i("option",{attrs:{value:"gameRoms/trucksimul8or.ch8"}},[t._v("trucksimul8or ")]),t._v(" "),i("option",{attrs:{value:"gameRoms/supersquare.ch8"}},[t._v("supersquare ")]),t._v(" "),i("option",{attrs:{value:"gameRoms/Tetris.ch8"}},[t._v("tetris ")])]),t._v(" "),i("br"),i("br"),t._v(" "),i("label",{attrs:{for:""}},[t._v("scale")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasScale,expression:"canvasScale"}],attrs:{type:"range",value:"80"},domProps:{value:t.canvasScale},on:{change:t.processWindowAdjust,__r:function(e){t.canvasScale=e.target.value}}}),t._v(t._s(t.canvasScale/100)+"\n\n          "),i("label",{attrs:{for:""}},[t._v("game speed")]),t._v("\n    fast"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.gameSpeed,expression:"gameSpeed"}],attrs:{type:"range",value:"80"},domProps:{value:t.gameSpeed},on:{change:t.processGameSpeedAdjust,__r:function(e){t.gameSpeed=e.target.value}}}),t._v("slow\n\n   "),i("input",{attrs:{type:"button",value:"oneCycle"},on:{click:t.oneCycle}}),t._v(" "),i("input",{attrs:{type:"button",value:"continue"},on:{click:t.startEmulation}}),t._v(" "),i("input",{attrs:{type:"button",value:"pause"},on:{click:t.stopEmulation}}),t._v(" "),i("input",{attrs:{type:"button",value:"restart"},on:{click:t.restartEmulation}})]),t._v(" "),i("div",{attrs:{id:"controls"}},[i("p",[t._v("controls")]),t._v(" "),i("input",{attrs:{type:"button",value:"1"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"2"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"3"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"C"},on:{click:t.processInput}}),t._v(" "),i("br"),t._v(" "),i("input",{attrs:{type:"button",value:"4"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"5"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"6"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"D"},on:{click:t.processInput}}),t._v(" "),i("br"),t._v(" "),i("input",{attrs:{type:"button",value:"7"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"8"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"9"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"E"},on:{click:t.processInput}}),t._v(" "),i("br"),t._v(" "),i("input",{attrs:{type:"button",value:"A"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"0"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"B"},on:{click:t.processInput}}),t._v(" "),i("input",{attrs:{type:"button",value:"F"},on:{click:t.processInput}})]),t._v(" "),i("chip8Debugger",{attrs:{debug:t.chip8InternalDebugData,commandHistory:t.chip8OpcodeHistory}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"gui"}},[e("canvas",{attrs:{id:"screen"}})])}]};var C={name:"App",components:{Chip8Debug:i("VU/8")(b,A,!1,function(t){i("sRZO")},"data-v-013fd283",null).exports}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Chip8Debug")],1)},staticRenderFns:[]};var S=i("VU/8")(C,R,!1,function(t){i("VmUj")},"data-v-4e77b622",null).exports,D=i("nrAE"),M=i.n(D);s.a.config.productionTip=!1,s.a.use(M.a),new s.a({el:"#app",components:{App:S},template:"<App/>"})},RKMo:function(t,e){t.exports={0:[240,144,144,144,240],1:[32,96,32,32,112],2:[240,16,240,128,240],3:[240,16,240,16,240],4:[144,144,240,16,240],5:[240,128,240,16,240],6:[240,128,240,144,240],7:[240,16,32,64,64],8:[240,144,240,144,240],9:[240,144,240,16,240],10:[240,144,240,144,144],11:[224,144,224,144,224],12:[240,128,128,128,240],13:[224,144,144,144,224],14:[240,128,240,128,240],15:[240,128,240,128,128]}},VmUj:function(t,e){},"am/W":function(t,e){var i={loadROM:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=void 0;i=void 0===t.target?"./static/"+t:"./static/"+t.target.value,console.log(i);var s=new Request(i,{method:"GET",headers:{"Content-Type":"application/octet-stream"},mode:"cors",cache:"default"}),n=void 0,a=[];fetch(s).then(function(t){return console.log(t.body),(n=t.body.getReader()).read()}).then(function t(i){var s,c,r,o=i.done,u=i.value;return o?(console.log("read complete"),console.log(a),e(a)):(s=a,c=u,(r=new Uint8Array(s.length+c.length)).set(s,0),r.set(c,s.length),a=r,n.read().then(t))}).catch(console.log.bind(console))}};t.exports=i},an1D:function(t,e){function i(t){return!!t.match(/^([0-9a-fA-F])+$/g)}function s(t){return!!t.match(/^([Vv][0-9a-fA-F])$/g)}var n={parse:function(t){return function(t){var e=void 0;switch(t[0].toUpperCase()){case"SYS":2===t.length&&i(t[1])&&(e="0x0"+t[1].slice(0,3));break;case"CLS":1===t.length&&(e="0x00E0");break;case"RET":1===t.length&&(e="0x00EE");break;case"JP":2===t.length&&i(t[1])&&(e="0x1"+t[1].slice(0,3));break;case"CALL":2===t.length&&i(t[1])&&(e="0x2"+t[1].slice(0,3));break;case"SE":3===t.length&&s(t[1])&&(i(t[2])?e="0x3"+t[1].charAt(1)+t[2].slice(0,2):s(t[2])&&(e="0x5"+t[1].charAt(1)+t[2].charAt(1)+"0"));break;case"SNE":3===t.length&&s(t[1])&&i(t[2])&&(e="0x4"+t[1].charAt(1)+t[2].slice(0,2));break;case"LD":3===t.length&&s(t[1])&&(i(t[2])?e="0x6"+t[1].charAt(1)+t[2].slice(0,2):s(t[2])&&(e="0x8"+t[1].charAt(1)+t[2].charAt(1)+"0"));break;case"ADD":case"SUB":3===t.length&&s(t[1])&&(i(t[2])?e="0x7"+t[1].charAt(1)+t[2].slice(0,2):s(t[2])&&(e="0x8"+t[1].charAt(1)+t[2].charAt(1)+"4"));break;case"OR":3===t.length&&s(t[1])&&s(t[2])&&(e="0x8"+t[1].charAt(1)+t[2].charAt(1)+"1");break;case"AND":3===t.length&&s(t[1])&&s(t[2])&&(e="0x8"+t[1].charAt(1)+t[2].charAt(1)+"2");break;case"XOR":3===t.length&&s(t[1])&&s(t[2])&&(e="0x8"+t[1].charAt(1)+t[2].charAt(1)+"3")}return e}(t.replace(/\n|/i,"").replace(/\t|/i,"").replace(/,/," ").replace(/\s+/," ").trim().split(" "))}};t.exports=n},cen0:function(t,e){},sRZO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.753939fb2be257ce2464.js.map